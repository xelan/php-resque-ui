{% set page = {
    title: 'Jobs',
    description: 'Resque WebUI jobs'
} %}

{% extends 'AndarisResqueWebUiBundle::layout.html.twig' %}

{% block content %}
    <div class="col-lg-12">
        <h1>Jobs</h1>

        <table class="table table-striped table-responsive">
            <tr>
                <th>ID</th>
                <th>Status</th>
                <th>Queue</th>
                <th>Worker</th>
                <th>Created</th>
                <th>Started</th>
                <th>Updated</th>
                <th>Finished</th>
            </tr>
            {% for job in jobs %}
            <tr>
                <td class="job-id"><a href="{{ path('andaris_resque_web_ui_job', {'jobId': job.id}) }}">{{ job.id }}</a></td>
                <td>{{ job.status | formatJobStatus }}</td>
                <td>{{ job.queue }}</td>
                <td>{{ job.worker }}</td>
                <td class="date-time">{{ job.created | formatTime }}</td>
                <td class="date-time">{{ job.started | formatTime }}</td>
                <td class="date-time">{{ job.updated | formatTime }}</td>
                <td class="date-time">{{ job.finished | formatTime }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="10">No jobs found.</td>
            </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}
